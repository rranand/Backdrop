datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}
 
generator db {
  provider = "go run github.com/steebchen/prisma-client-go"
}

model User {
    id          String      @id       @default(uuid())  @db.Uuid
    username    String      @unique
    email       String      @unique
    name        String
    created_at  DateTime    @default(now())
    updated_at  DateTime    @updatedAt
    login_data  LoginData[]
}

model LoginData {
    id              String      @id   @default(uuid())  @db.Uuid
    token           String      @unique
    userAgent       String?
    ipAddress       String?
    isp             String?
    state           String?
    city            String?
    country         String?
    deviceType      String
    expiresAt       DateTime
    createdAt       DateTime    @default(now())
    last_logged_in  DateTime    @updatedAt

    user            User        @relation(fields: [userID], references: [id])
    userID          String      @db.Uuid
}